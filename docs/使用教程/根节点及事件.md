---
sidebar_position: 3
title: 根节点及事件
id: events
---

# 🌱 根节点与事件机制

在 Yuml 中，**根节点（Root）** 通常用于定义一个 **块（Block）**，这些块既可以是普通的逻辑块，也可以是特殊的 **事件块（Event Block）**，类似于其他语言中的函数、钩子或回调机制。

---

## 📦 什么是块（函数）

Yuml 不使用传统的 `function` 或 `def` 等关键字来声明函数，  
而是通过判断**块名是否与事件名重名**，来区分：

- **事件块**：系统自动触发执行
- **自定义块**：需要手动调用，作为通用逻辑复用结构

### ✨ 示例
```yaml
windowCreated:  
  windowSize: {width: 800, height: 600}  
  CALL_BLOCK: testBlock  
testBlock:  
  LOG: "块被调用"
```
说明：

- `windowCreated` 是一个与事件同名的块 → 会在窗口创建时被系统自动触发
- `testBlock` 是一个自定义逻辑块 → 需要通过 `CALL_BLOCK` 主动调用

:::tip 提示
避免将自定义块命名为下列系统事件名，否则它将会被识别为事件块，无法被正常复用。

自定义块常用于组织业务逻辑，支持被 `callBlock` / `CALL_BLOCK` 等元素调用。
:::

---

## ⚙️ 常见事件块一览（自动触发）

| 事件名         | 触发时机                        |
|----------------|----------------------------------|
| `windowCreated`| 当窗口首次 `show()` 时触发      |
| `windowShowed` | 当窗口被显示（从隐藏变可见）时 |
| `windowHidden` | 当窗口被隐藏                    |
| `windowResized`| 当窗口尺寸发生变化时触发       |
| `windowMoved`  | 当窗口被移动时触发              |
| `windowClosed` | 用户点击关闭按钮时触发         |

事件块的结构与普通块完全一致，唯一区别是：  
**事件块会被系统自动调用，无需你手动调用。**

---

如需定义你自己的事件响应逻辑，只需新建一个块，命名为以上事件名之一即可。