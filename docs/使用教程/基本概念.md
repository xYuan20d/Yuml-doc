---
sidebar_position: 2
title: 基本概念
id: concept
---

# Yuml 独有的基本概念

Yuml 是一种声明式 UI 与逻辑描述语言，具有独特的结构与语义体系。本节将介绍 Yuml 的核心组成：**块（Block）**与**元素（Element）**，以及它们在语言中的作用。

---

## 1. 块（Block）与元素（Element）

在 Yuml 中，每个根节点（Root）下都是一个“块”（Block）。块是 Yuml 的基本代码结构单元，用于封装逻辑、组件或数据内容。

### 示例
```yaml
a:
  _: 1

b:
  _: 1
  _2: 1
```

- 上例中，a 和 b 都是块，分别称为「a 块」和「b 块」。
- 每个块中的键值对称为元素（Element）。
- a 块中包含一个元素：`_`，值为 `1`。
- b 块中包含两个元素：`_` 和 `_2`，值均为 `1`。

### 组件元素

参考: [组件元素和普通元素](/docs/使用教程/mainBlocks#组件元素和普通元素)

---

## 2. Globals（全局变量）

`Globals` 是 Yuml 中最核心的概念之一。  
它的设计理念是：**在一个地方设置后，整个系统中所有语言层都可以同步访问。**

这意味着，无论是 YAML 脚本本身，还是 Python、Lua 等脚本语言，都可以共享访问同一个变量。

### 🔄 多语言同步示例

以下示例展示了如何通过 `Globals` 实现变量在多个语言环境中的共享：

```yaml
\>a: 1
LOG: "{< a >}"
PythonScript: "print(a)"
LuaScript: "print(a)"
```

输出：
```
1
1
1
```
在上例中，`\>a: 1` 定义了一个名为 `a` 的全局变量：  
- `{< a >}` 用于字符串渲染引擎中访问 `a`  
- Python 和 Lua 脚本中直接访问同名变量 `a`，无需额外传参

### 💡 其他创建 Globals 的方式

- `HOOK` 元素在执行时也会创建对应的全局变量  
- 某些组件行为、回调处理等也可能隐式地将变量注入为 `Globals`

### 🧹 生命周期与管理

- `Globals` 的生命周期 **贯穿整个应用运行期间**，不会自动销毁  
- 若需要手动清除变量，可使用 `DELETE` 元素进行删除：

```yaml
DELETE:
  - a
```

### 📘 延伸阅读

字符串渲染引擎中的 `{< a >}` 表达式同样依赖 `Globals` 提供变量支持，详见：  
[字符串渲染引擎](/docs/使用教程/string)

掌握 `Globals` 是 Yuml 编程的入门基础，也是数据交互的核心机制之一。